<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      layout:decorate="~{layouts/layout1}">

<!-- 사용자 스크립트 추가 -->
<th:block layout:fragment="script">
  <script th:inline="javascript">
    // $(document).ready(function(){
    //   let orders = document.getElementsByClassName('order_price')
    //   let total_count = 0;
    //   for(let i=0; orders.length; i++) {
    //     total_count += parseInt(orders.innerText);
    //   }
    //   $('.total').innerHTML = total_count;
    // });


  </script>
</th:block>

<!-- 사용자 CSS 추가 -->
<th:block layout:fragment="css">
  <style>
    select{
      margin-right:10px;
    }
    #item_img {
      width: 50px;
      height: 50px;
    }
  </style>
</th:block>

<div layout:fragment="content">
  <h1>주문목록</h1>

  <table class="table">
    <thead>
    <tr>
      <td></td>
      <td>상품이름</td>
      <td>상품가격</td>
      <td>갯수</td>
      <td>금액</td>
    </tr>
    </thead>
    <tbody>
    <tr th:each="order : ${orderListDto}">
      <td><img id="item_img" th:src="${order.itemImg}"></td>
      <td th:text="${order.itemName}"></td>
      <td th:text="|${order.itemPrice} 원|"></td>
      <td th:text="|${order.itemNum} 개|"></td>
      <td class="order_price" th:text="|${order.total} 원|"></td>
    </tr>
    </tbody>
  </table>

  <div class="total"></div>



</div>

</html>